@model IEnumerable<MvcFolhetos.Models.Folhetos>

@{
    ViewBag.Title = "Lista de folhetos";
}
<style>
    figure.snip1253 {
        font-family: 'Karla';
        color: #fff;
        position: relative;
        float: left;
        overflow: hidden;
        margin: 10px 1%;
        min-width: 250px;
        max-width: 310px;
        width: 100%;
        background-color: #ffffff;
        color: #000000;
        text-align: left;
        font-size: 16px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);
    }

        figure.snip1253 * {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            -webkit-transition: all 0.3s ease;
            transition: all 0.3s ease;
        }

        figure.snip1253 .image {
            max-height: 300px;
            overflow: hidden;
        }

        figure.snip1253 img {
            max-width: 100%;
            vertical-align: top;
            position: relative;
        }

        figure.snip1253 figcaption {
            margin: -40px 15px 0;
            padding: 15px;
            position: relative;
            background-color: #ffffff;
        }

        figure.snip1253 .date {
            background-color: #2980b9;
            top: 15px;
            color: #fff;
            left: 15px;
            min-height: 48px;
            min-width: 48px;
            position: absolute;
            text-align: center;
            font-size: 20px;
            font-weight: 700;
            text-transform: uppercase;
        }

            figure.snip1253 .date span {
                display: block;
                line-height: 24px;
            }

        figure.snip1253 h3 {
            margin: 0;
            padding: 0;
        }

        figure.snip1253 h3 {
            min-height: 50px;
            margin-bottom: 10px;
            margin-left: 10px;
            display: inline-block;
            font-weight: 600;
            text-transform: uppercase;
            text-align: center;
        }

        figure.snip1253 footer {
            padding: 0 25px;
            background-color: #20638f;
            color: #e6e6e6;
            font-size: 0.8em;
            line-height: 30px;
            text-align: center;
        }

            figure.snip1253 footer > div {
                display: inline-block;
                margin-left: 10px;
            }

            figure.snip1253 footer i {
                color: rgba(255, 255, 255, 0.2);
                margin-right: 0px;
            }

        figure.snip1253 a {
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            position: absolute;
            z-index: 1;
        }

        figure.snip1253:hover img,
        figure.snip1253.hover img {
            -webkit-transform: scale(1.15);
            transform: scale(1.15);
        }
</style>


<h2> Lista de folhetos </h2>

<p>
    @if (this.User.IsInRole("GestaoDeFolhetos"))
    {
        @Html.ActionLink("Criar novo folheto", "Create")

    }

    @using (Html.BeginForm())
    {
<p>
        Pesquisar por empresa: @Html.TextBox("SearchString")
        <input type="submit" value="Pesquisar" />
    </p>
}
    </p>
    <div class="container">
        @foreach (var item in Model)
        {
            <figure class="snip1253">

                <p> @Html.DisplayFor(modelItem => item.NomeEmpresa)</p>
                <div class="image">
                    <img src="~/imagens/folheto@(item.FolhetosID)/pagina1.jpeg" alt="sample52" />
                </div>
                <figcaption>
                    <h3>@Html.DisplayFor(modelItem => item.Titulo) </h3>
                </figcaption>
                <footer>
                    <div class="views">
                        <i class="fas fa-calendar-alt"></i>
                        @Html.DisplayFor(modelItem => item.DataInic)
                        a
                        @Html.DisplayFor(modelItem => item.DataFim)
                    </div>
                </footer><a> @Html.ActionLink(" ", "Details", new { id = item.FolhetosID })</a>
            </figure>
        }

    </div>

    @if (this.User.IsInRole("GestaoDeFolhetos"))
    {
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Titulo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Descricao)
                </th>
                @*<th>
                    @Html.DisplayNameFor(model => model.Files)
                </th>*@
                <th>
                    @Html.DisplayNameFor(model => model.DataInic)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataFim)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NomeEmpresa)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Titulo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Descricao)
                    </td>
                    <td>
                        <a href="~/imagens/folheto@(item.FolhetosID)/" target="_blank">
                            <img src="~/imagens/folheto@(item.FolhetosID)/pagina1.jpeg" width="100" height="147" />
                        </a>
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataInic)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataFim)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NomeEmpresa)
                    </td>
                    @*<td>
                            <div class="col-md-10">
                                @{ string selected = "";}
                                @foreach (var etiquetas in ViewBag.ListaDeTags)

                                {
                                    selected = "";
                                    foreach (int opcaoID in item.ListaDeTags.Select(b => b.ID))
                                    {
                                        if (etiquetas.ID == opcaoID) { selected = "checked"; }
                                    }
                                    <input type="checkbox" name="opcoesEscolhidasDeTags" value="@etiquetas.ID" @selected /> @etiquetas.Info
                                    <br />
                                }
                            </div>
                        </td>*@
                    <td>
                        @Html.ActionLink("Create", "Create", new { id = item.FolhetosID }) |
                        @Html.ActionLink("Details", "Details", new { id = item.FolhetosID }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.FolhetosID })
                    </td>
                </tr>
            }
        </table>
    }